<% let title = "Dashboard"; %>
<%- include("partials/header"); %>
<%- include("partials/nav",{title:"Dashboard"}); %>
<div class="container" id="list">
    <div class="text-left mt-2">
        <h4><%= title %></h4>
        <div class="card">
            <p>ចំនួនពាក្យសរុប</p>
            <div class="d-flex row text-center">
                <div class="col-sm-3 text-end">
                    <i class='bx bx-bookmark-alt-plus'></i>
                </div>
                <div class="col-sm-9 text-start mt-1">
                    <p><%= keywords.length %> ពាក្យ</p>
                </div>
            </div>
        </div>
    </div>
    <div class="text-left new mt-3 detail">
        <a href="/add_new_text" class="view" id="add_new"><i class='bx bx-plus-circle'></i> New Keyword</a>
    </div>
    <div class="this_table mt-3">
        <table class="table" id="list_table">
            <thead class="bg_df">
                <th style="width:30px; text-align:center">Action</th>
                <th>ID</th>
                <th>ឈ្មោះខ្មែរ</th>
                <th>ឈ្មោះអង់គ្លេស</th>
                <th>ឈ្មោះបារាំង</th>
                <th>ការពន្យល់</th>
                <th>រូបភាព</th>
                <th>ប្រភព</th>
                <th>កាលបរិឆ្ឆេទ</th>
            </thead>
            <tbody>
                <% keywords.forEach((keyword,index) => { %>
                 <tr>
                        <td class="action">
                            <span>
                                <i class='bx bx-dots-horizontal'></i>
                                <label>
                                    <a href="/add_new_text?id=<%= keyword.id %>" class="b_up"> <i class='bx bxs-pencil'></i></a>
                                    <a href="" class="b_del"> <i class='bx bx-trash-alt'></i></a>
                                </label>
                            </span>
                        </td>
                        <td class="id"><%= index+1 %></td>
                        <td><%= keyword.keyword.kh %></td>
                        <td><%= keyword.keyword.eng %></td>
                        <td><%= keyword.keyword.fr %></td>
                        <td><%= keyword.explanation %></td>
                        <td>
                            <img src="<%= keyword.picture %>" style="width:30px;">
                        </td>
                        <td><%= keyword.Responsible_People.responsible_name %></td>
                        <td><%= keyword.approved_date_by_commitee %></td>
                    </tr>
                <% }) %>
                
                
            </tbody>
        </table>
    </div>
</div>
</main>
<%- include("partials/footer") %>

<script>
    $("#list_table").DataTable({
        "ordering": false,
        "aLengthMenu": [
            [10, 30, 50, 100, 200, -1],
            [10, 30, 50, 100, 200, "All"]
        ],
    });
</script>
